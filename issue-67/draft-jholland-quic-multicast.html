<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Multicast Extension for QUIC</title>
<meta content="Jake Holland" name="author">
<meta content="Lucas Pardue" name="author">
<meta content="Max Franke" name="author">
<meta content="
       This document defines a multicast extension to QUIC to enable the efficient use of mullticast-capable networks to send identical data streams to many clients at once, coordinated through individual unicast QUIC connections. 
    " name="description">
<meta content="xml2rfc 3.12.10" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-jholland-quic-multicast-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.10
    Python 3.10.4
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.1
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.8.0
    MarkupSafe 2.0.1
    pycountry 20.7.3
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.4.0
    six 1.16.0
-->
<link href="draft-jholland-quic-multicast.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
h1, h2, h3, h4, h5, h6 {
  font-family: "Cabin Condensed", sans-serif;
  font-weight: 600;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
}
:is(ol, ul) :is(ol, ul) {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}
dd.break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href].selfRef {
  color: var(--text-color);
}
a[href] {
  color: var(--link-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    overflow-x: auto;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
}
a.pilcrow[href] { color: var(--pilcrow-weak); }
a.pilcrow[href]:hover { text-decoration: none; }
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: 14.5px;
}
.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 8em;
}
#identifiers dt {
  width: var(--identifier-width);
  margin: 0;
  clear: left;
  float: left;
  text-align: right;
}
#identifiers dd {
  margin: 0 0 0 calc(1em + var(--identifier-width));
  min-width: 5em;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
#toc nav ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
#toc nav li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
#toc a.xref {
  white-space: normal;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}
address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc.active {
      opacity: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 8px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active nav {
    display: block;
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin-top: 2px;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  #toc nav > ul  {
    margin-bottom: 2em;
  }
  #toc ul {
    margin: 0 0 0 4px;
    font-size: var(--small-font-size);
  }
  #toc ul :is(p, li) {
    margin: 2px 0;
    line-height: 22px;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Changes introduced to fix issues found during implementation */

/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}

/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin: 8px 0.5em 0;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 20em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Give the table caption label the same styling as the figcaption */

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  dd {
    page-break-before: avoid;
  }
  .vcard {
    page-break-inside: avoid;
  }

}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([stroke="fill"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Multicast QUIC</td>
<td class="right">June 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Holland, et al.</td>
<td class="center">Expires 15 December 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">QUIC Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-jholland-quic-multicast-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-06-13" class="published">13 June 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Experimental</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-12-15">15 December 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">J. Holland</div>
<div class="org">Akamai Technologies, Inc.</div>
</div>
<div class="author">
      <div class="author-name">L. Pardue</div>
</div>
<div class="author">
      <div class="author-name">M. Franke</div>
<div class="org">TU Berlin</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Multicast Extension for QUIC</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document defines a multicast extension to QUIC to enable the efficient use of mullticast-capable networks to send identical data streams to many clients at once, coordinated through individual unicast QUIC connections.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-about-this-document">
<a href="#name-about-this-document" class="section-name selfRef">About This Document</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">
        The latest revision of this draft can be found at <span><a href="https://GrumpyOldTroll.github.io/draft-jholland-quic-multicast/draft-jholland-quic-multicast.html">https://GrumpyOldTroll.github.io/draft-jholland-quic-multicast/draft-jholland-quic-multicast.html</a></span>.
        Status information for this document may be found at <span><a href="https://datatracker.ietf.org/doc/draft-jholland-quic-multicast/">https://datatracker.ietf.org/doc/draft-jholland-quic-multicast/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">
        Discussion of this document takes place on the
        QUIC Individual Draft mailing list (<span><a href="mailto:quic@ietf.org">mailto:quic@ietf.org</a></span>),
        which is archived at <span><a href="https://mailarchive.ietf.org/arch/browse/quic/">https://mailarchive.ietf.org/arch/browse/quic/</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
<p id="section-note.1-4">Source for this draft and an issue tracker can be found at
        <span><a href="https://github.com/GrumpyOldTroll/draft-jholland-quic-multicast">https://github.com/GrumpyOldTroll/draft-jholland-quic-multicast</a></span>.<a href="#section-note.1-4" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 15 December 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-conventions-and-definitions" class="xref">Conventions and Definitions</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-multicast-channel" class="xref">Multicast Channel</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-transport-parameter" class="xref">Transport Parameter</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-extension-overview" class="xref">Extension Overview</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-channel-management" class="xref">Channel Management</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-client-response" class="xref">Client Response</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-data-carried-in-channels" class="xref">Data Carried in Channels</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-stream-processing" class="xref">Stream Processing</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-flow-control" class="xref">Flow Control</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-congestion-control" class="xref">Congestion Control</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-data-integrity" class="xref">Data Integrity</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-packet-hashes" class="xref">Packet Hashes</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-packet-scheduling" class="xref">Packet Scheduling</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-connection-termination" class="xref">Connection Termination</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-stateless-reset" class="xref">Stateless Reset</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-implementation-and-operatio" class="xref">Implementation and Operational Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-new-frames" class="xref">New Frames</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-11.1" class="xref">11.1</a>.  <a href="#name-mc_channel_announce" class="xref">MC_CHANNEL_ANNOUNCE</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-11.2" class="xref">11.2</a>.  <a href="#name-mc_channel_key" class="xref">MC_CHANNEL_KEY</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.3">
                <p id="section-toc.1-1.11.2.3.1"><a href="#section-11.3" class="xref">11.3</a>.  <a href="#name-mc_channel_join" class="xref">MC_CHANNEL_JOIN</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.4">
                <p id="section-toc.1-1.11.2.4.1"><a href="#section-11.4" class="xref">11.4</a>.  <a href="#name-mc_channel_leave" class="xref">MC_CHANNEL_LEAVE</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.5">
                <p id="section-toc.1-1.11.2.5.1"><a href="#section-11.5" class="xref">11.5</a>.  <a href="#name-mc_channel_integrity" class="xref">MC_CHANNEL_INTEGRITY</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.6">
                <p id="section-toc.1-1.11.2.6.1"><a href="#section-11.6" class="xref">11.6</a>.  <a href="#name-mc_channel_ack" class="xref">MC_CHANNEL_ACK</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.7">
                <p id="section-toc.1-1.11.2.7.1"><a href="#section-11.7" class="xref">11.7</a>.  <a href="#name-mc_client_limits" class="xref">MC_CLIENT_LIMITS</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.8">
                <p id="section-toc.1-1.11.2.8.1"><a href="#section-11.8" class="xref">11.8</a>.  <a href="#name-mc_channel_retire" class="xref">MC_CHANNEL_RETIRE</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.9">
                <p id="section-toc.1-1.11.2.9.1"><a href="#section-11.9" class="xref">11.9</a>.  <a href="#name-mc_client_channel_state" class="xref">MC_CLIENT_CHANNEL_STATE</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-frames-carried-in-channel-p" class="xref">Frames Carried in Channel Packets</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="xref">13</a>. <a href="#name-error-codes" class="xref">Error Codes</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-14" class="xref">14</a>. <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#section-15" class="xref">15</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#section-16" class="xref">16</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.1">
                <p id="section-toc.1-1.16.2.1.1"><a href="#section-16.1" class="xref">16.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.2">
                <p id="section-toc.1-1.16.2.2.1"><a href="#section-16.2" class="xref">16.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.17">
            <p id="section-toc.1-1.17.1"><a href="#appendix-A" class="xref"></a><a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.18">
            <p id="section-toc.1-1.18.1"><a href="#appendix-B" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">This document specifies an extension to QUIC version 1 <span>[<a href="#RFC9000" class="xref">RFC9000</a>]</span> to enable the use of multicast IP transport of identical data packets for use in many individual QUIC connections.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">The multicast data can only be consumed in conjunction with a unicast QUIC connection.
When support for multicast is negotiated, the server can optionally advertise the existence of one or more multicast channels that contain unidirectional data streams from server to client, and the client can optionally join the multicast channel and verify from integrity data the server provides that correct data is being received, then acknowledge the data from the multicast channel(s) over the unicast connection.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">Enabling this can provide large scalability benefits for popular traffic over multicast-capable networks.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">This document does not define any multicast transport except server to client and only includes semantics for source-specific multicast.<a href="#section-1-4" class="pilcrow">¶</a></p>
<div id="conventions-and-definitions">
<section id="section-1.1">
        <h3 id="name-conventions-and-definitions">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-conventions-and-definitions" class="section-name selfRef">Conventions and Definitions</a>
        </h3>
<p id="section-1.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED",
"MAY", and "OPTIONAL" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2">Commonly used terms in this document are described below.<a href="#section-1.1-2" class="pilcrow">¶</a></p>
<p id="section-1.1-3">(S,G): A tuple of IP addresses identifying a source-specific multicast channel, as described in <span>[<a href="#RFC4607" class="xref">RFC4607</a>]</span>.<a href="#section-1.1-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="multicast-channel">
<section id="section-2">
      <h2 id="name-multicast-channel">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-multicast-channel" class="section-name selfRef">Multicast Channel</a>
      </h2>
<p id="section-2-1">A QUIC multicast channel (or just channel) is a one-way network path that a server can use as an alternate path to send QUIC connection data to a client.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">Multicast channels are designed to leverage multicast IP and to be shared by many different connections simultaneously for unidirectional server-initiated data.
One or more servers can use the same QUIC multicast channel to send the same data to many clients, as a supplement to the individual QUIC connections between those servers and clients.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">Each QUIC multicast channel has exactly one associated (S,G) that is used for the delivery of the multicast packets on the IP layer. Channels do not support any-source multicast semantics.
This however does not impose a requirement on how the underlying network stack has to handle the forwarding and delivery of multicast packets.<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">QUIC connections are defined in Section 5 of <span>[<a href="#RFC9000" class="xref">RFC9000</a>]</span> and are not changed in this document; each connection is a shared state between a client and a server.<a href="#section-2-4" class="pilcrow">¶</a></p>
<p id="section-2-5">Channels carry only 1-RTT packets.
Packets associated with a channel contain a Channel ID in place of a Destination Connection ID.
(A Channel ID cannot be zero length.)
This adds a layer of indirection to the process described in Section 5.2 of <span>[<a href="#RFC9000" class="xref">RFC9000</a>]</span> for matching packets to connections upon receipt.
Incoming packets received on the network path associated with a channel use the Channel ID to associate the packet with a joined channel.<a href="#section-2-5" class="pilcrow">¶</a></p>
<p id="section-2-6">A client with a matching joined channel always has at least one connection associated with the channel.
If a client has no matching joined channel, the packet is discarded.<a href="#section-2-6" class="pilcrow">¶</a></p>
<p id="section-2-7">Since the network path for a channel is unidirectional, packets associated with a channel are acknowledged with MP_CHANNEL_ACK frames <a href="#channel-ack-frame" class="xref">Section 11.6</a> instead of ACK frames.
Each channel has an independent packet number space.<a href="#section-2-7" class="pilcrow">¶</a></p>
<p id="section-2-8">The use of any particular channel is OPTIONAL for both the server and the client.
It is recommended that applications designed to leverage the multicast capabilities of this extension also provide graceful degradation for endpoints that do not or cannot make use of the multicast functionality.<a href="#section-2-8" class="pilcrow">¶</a></p>
<p id="section-2-9">The server has access to all data transmitted on any multicast channel it uses, and could optionally send this data with unicast instead.<a href="#section-2-9" class="pilcrow">¶</a></p>
<p id="section-2-10">No special handling of the data is required in a client application that has enabled multicast.
A datagram or any particular bytes from a server-initiated unidirectional stream can be delivered over the unicast connection or a multicast channel transparently to the client.<a href="#section-2-10" class="pilcrow">¶</a></p>
<p id="section-2-11">Client applications should have a mechanism that disables the use of multicast on connections with enhanced privacy requirements for the privacy-related reasons covered in <span>[<a href="#I-D.draft-krose-multicast-security" class="xref">I-D.draft-krose-multicast-security</a>]</span>.<a href="#section-2-11" class="pilcrow">¶</a></p>
</section>
</div>
<div id="transport-parameter">
<section id="section-3">
      <h2 id="name-transport-parameter">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-transport-parameter" class="section-name selfRef">Transport Parameter</a>
      </h2>
<p id="section-3-1">Support for multicast extensions in a client is advertised by means of a QUIC transport parameter:<a href="#section-3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-2.1">name: multicast_client_params (TBD - experiments use 0xff3e800)<a href="#section-3-2.1" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-3-3">If a multicast_client_params transport parameter is not included, servers MUST NOT send any frames defined in this document.  (Given that a server never sends any MC_CHANNEL_JOIN frames, the clients also will never send any frames in this document so only the client-to-server advertisement is necessary.)<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">The multicast_client_params parameter has the structure shown below in <a href="#fig-transport-parameter-format" class="xref">Figure 1</a>.<a href="#section-3-4" class="pilcrow">¶</a></p>
<span id="name-multicast_client_params-for"></span><div id="fig-transport-parameter-format">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-3-5.1">
<pre>
multicast_client_params {
  Capabilities Field (i),
  Max Aggregate Rate (i),
  Max Channel IDs (i),
  Hash Algorithms Supported (i),
  AEAD Algorithms Supported (i),
  Hash Algorithms List (16 * Hash Algorithms Supported),
  AEAD Algorithms List (16 * AEAD Algorithms Supported)
}
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-multicast_client_params-for" class="selfRef">multicast_client_params Format</a>
        </figcaption></figure>
</div>
<p id="section-3-6">Capabilities Flags is a bit field structured as follows:<a href="#section-3-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-7.1">0x1 is set if IPv4 channels are permitted<a href="#section-3-7.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-7.2">0x2 is set if IPv6 channels are permitted<a href="#section-3-7.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-3-8">A server MUST NOT send MC_CHANNEL_ANNOUNCE (<a href="#channel-announce-frame" class="xref">Section 11.1</a>) frames with addresses using an IP Family that is not supported according to the Capabilities in the multicast_client_params, unless and until a later MC_CLIENT_LIMITS (<a href="#client-limits-frame" class="xref">Section 11.7</a>)  frame adds permission for a different address family.<a href="#section-3-8" class="pilcrow">¶</a></p>
<p id="section-3-9">The Capabilities Field, Max Aggregate Rate, and Max Channel IDs are the same as in MC_CLIENT_LIMITS frames (<a href="#client-limits-frame" class="xref">Section 11.7</a>) and provide the initial client values.<a href="#section-3-9" class="pilcrow">¶</a></p>
<p id="section-3-10">The AEAD Algorithms List field is in order of preference (most preferred occuring first) using values from the registry below. It lists the algorithms the client is willing to use to decrypt data in multicast channels, and the server MUST NOT send a MC_CHANNEL_JOIN to this client for any channels using unsupported algorithms:<a href="#section-3-10" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-11.1">
          <a href="https://www.iana.org/assignments/aead-parameters/aead-parameters.xhtml">https://www.iana.org/assignments/aead-parameters/aead-parameters.xhtml</a><a href="#section-3-11.1" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-3-12">The Hash Algorithms List field is in order of preference (most preferred occurring first) using values from the registry below. It lists the algorithms the client is willing to use to check integrity of data in multicast channels, and the server MUST NOT send a MC_CHANNEL_JOIN to this client for any channels using unsupported algorithms:<a href="#section-3-12" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-13.1">
          <a href="https://www.iana.org/assignments/named-information/named-information.xhtml#hash-alg">https://www.iana.org/assignments/named-information/named-information.xhtml#hash-alg</a><a href="#section-3-13.1" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<div id="extension-overview">
<section id="section-4">
      <h2 id="name-extension-overview">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-extension-overview" class="section-name selfRef">Extension Overview</a>
      </h2>
<p id="section-4-1">A client has the option of refusal and the power to impose upper bound maxima on several resources (see <a href="#flow-control" class="xref">Section 5</a>), but otherwise its join status for all multicast channels is entirely managed by the server.<a href="#section-4-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-2.1">A client MUST NOT join a channel without receiving instructions from a server to do so.<a href="#section-4-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.2">A client MUST leave joined channels when instructed by the server to do so.<a href="#section-4-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.3">A client MAY leave channels or refuse to join channels, regardless of instructions from the server.<a href="#section-4-2.3" class="pilcrow">¶</a>
</li>
      </ul>
<div id="channel-management">
<section id="section-4.1">
        <h3 id="name-channel-management">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-channel-management" class="section-name selfRef">Channel Management</a>
        </h3>
<p id="section-4.1-1">The client tells its server about some restrictions on resources that it is capable of processing with the initial values in the multicast_client_params transport parameter (<a href="#transport-parameter" class="xref">Section 3</a>) and later can update these limits with MC_CLIENT_LIMITS <a href="#client-limits-frame" class="xref">Section 11.7</a> frames. Servers ensure the set of channels the client is currently requested to join remains within these advertised client limits as covered in <a href="#flow-control" class="xref">Section 5</a>.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">The server asks the client to join channels with MC_CHANNEL_JOIN (<a href="#channel-join-frame" class="xref">Section 11.3</a>) frames and to leave channels with MC_CHANNEL_LEAVE (<a href="#channel-leave-frame" class="xref">Section 11.4</a>) frames.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">The server uses the MC_CHANNEL_ANNOUNCE (<a href="#channel-announce-frame" class="xref">Section 11.1</a>) frame before any join or leave frames for the channel to describe the channel properties to the client, including values the client can use to ensure the server's requests remain within the limits it has sent to the server, as well as the keys necessary to decode packets in the channel.
<a href="#fig-client-channel-states" class="xref">Figure 2</a> shows the states a channel has from the clients point of view.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1-4">Joining a channel is optional for clients. If a client decides to not join after being asked to do so, it can indicate this decision by sending an MC_CLIENT_CHANNEL_STATE (<a href="#client-channel-state-frame" class="xref">Section 11.9</a>) frame with state Declined Join.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
<p id="section-4.1-5">When the server has asked the client to join a channel, it also sends MC_CHANNEL_INTEGRITY frames (<a href="#channel-integrity-frame" class="xref">Section 11.5</a>) to enable the client to verify packet integrity before processing the packet.
A client MUST NOT decode packets for a channel for which it has not received an applicable MC_CHANNEL_ANNOUNCE (<a href="#channel-announce-frame" class="xref">Section 11.1</a>), or for which it has not received a matching packet hash in an MC_CHANNEL_INTEGRITY (<a href="#channel-integrity-frame" class="xref">Section 11.5</a>) frame.<a href="#section-4.1-5" class="pilcrow">¶</a></p>
<p id="section-4.1-6">The server ensures that in aggregate, all channels that the client has currently been asked to join and that the client has not left or declined to join fit within the limits indicated by the initial values in the transport parameter or last MC_CLIENT_LIMITS (<a href="#client-limits-frame" class="xref">Section 11.7</a>) frame the server received.<a href="#section-4.1-6" class="pilcrow">¶</a></p>
<span id="name-states-a-channel-from-the-c"></span><div id="fig-client-channel-states">
<figure id="figure-2">
          <div class="alignLeft art-text artwork" id="section-4.1-7.1">
<pre>
                                                   o
                                                   | Receive MC_CHANNEL_ANNOUNCE
                                                   | Initialize new channel
                                                   v
                                            +-------------+ Receive MC_CHANNEL_RETIRE
                                            |   unjoined  | Send MC_CLIENT_CHANNEL_STATE: Retired
  -----------------------------------------&gt;|             |-----------------------------------------------&gt;|
  |                                         +-------------+                                                |
  |                                                |                                                       |
  |                                                | Receive MC_CHANNEL_JOIN                               |
  |                                                | Send MC_CLIENT_CHANNEL_STATE: Joined                  |
  |                                                v                                                       v
  |  Reveive MC_CHANNEL_LEAVE                +-------------+ Receive MC_CHANNEL_RETIRE              +-------------+
  |  Send MC_CLIENT_CHANNEL_STATE: Left      |   joined    | Send MC_CLIENT_CHANNEL_STATE: Retired  |   retired   |
  |------------------------------------------|             |---------------------------------------&gt;|             |
                                             +-------------+                                        +-------------+
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-states-a-channel-from-the-c" class="selfRef">States a channel from the clients point of view.</a>
          </figcaption></figure>
</div>
<p id="section-4.1-8"><a href="#fig-frame-exchange" class="xref">Figure 3</a> shows the frames that are being exchanged over the lifetime of an example channel.<a href="#section-4.1-8" class="pilcrow">¶</a></p>
<span id="name-example-flow-of-frames-for-"></span><div id="fig-frame-exchange">
<figure id="figure-3">
          <div class="alignLeft art-text artwork" id="section-4.1-9.1">
<pre>
Client                                                                      Server

                                                            &lt;- MC_CHANNEL_ANNOUNCE: ID: 50, (...)
                                                      ...
                                                            &lt;- MC_CHANNEL_PROPERTIES: ID: 50, (...)
                                                            &lt;- MC_CHANNEL_JOIN: ID: 50, (...)
MC_CHANNEL_STATE: ID: 50, State: Joined, (...)    -&gt;
                                                            &lt;- MC_CHANNEL_INTEGRITY: ID: 50, (...)
                                                            &lt;- [STREAM: (...)]
MC_CHANNEL_ACK: ID: 50, (...)                     -&gt;
                                                      ...
                                                           &lt;- {[MC_CHANNEL_INTEGRITY: ID: 50, (...)]}
                                                      ...
                                                           &lt;- {[MC_CHANNEL_PROPERTIES: ID: 50, (...)]}
                                                      ...
                                                           &lt;- {[MC_CHANNEL_LEAVE: ID: 50, (...)]}
{MC_CHANNEL_STATE: ID: 50, State: Left, (...)}    -&gt;
                                                      ...
                                                           &lt;- {MC_CHANNEL_JOIN: ID: 50, (...)}
{MC_CHANNEL_STATE: ID: 50, State: Joined, (...)}  -&gt;
                                                      ...
                                                           &lt;- [MC_CHANNEL_RETIRE: ID: 50, (...)]
MC_CHANNEL_STATE: ID: 50, State: Retired, (...)   -&gt;
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-example-flow-of-frames-for-" class="selfRef">Example flow of frames for a channel. Frames in square brackets are optionally sent over multicast while frames in curly brackets are optional.</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="client-response">
<section id="section-4.2">
        <h3 id="name-client-response">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-client-response" class="section-name selfRef">Client Response</a>
        </h3>
<p id="section-4.2-1">The client sends back information about how it has responded to the server's requests to join and leave channels in MC_CLIENT_CHANNEL_STATE (<a href="#client-channel-state-frame" class="xref">Section 11.9</a>) frames.
MC_CLIENT_CHANNEL_STATE frames are only sent for channels after the server has requested the client to join the channel, and are thereafter sent any time the state changes.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">Clients that receive and decode data on a multicast channel send acknowledgements for the data on the unicast connection using MC_CHANNEL_ACK (<a href="#channel-ack-frame" class="xref">Section 11.6</a>) frames.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">A server can determine if a client can receive packets on a multicast channel if it receives MC_CHANNEL_ACK frames associated with that channel.
As such, it is in general up to the server to decide on the time after which it deems a client to be unable to receive packets on a given channel and take appropriate steps, e.g. sending a MC_CHANNEL_LEAVE frame to the client.
However, a client MAY unilaterally determine that it is unable to receive multicast packets on a channel and indicate this to the server by sending a MC_CLIENT_CHANNEL_STATE frame with state Left and reason No Traffic.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="data-carried-in-channels">
<section id="section-4.3">
        <h3 id="name-data-carried-in-channels">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-data-carried-in-channels" class="section-name selfRef">Data Carried in Channels</a>
        </h3>
<p id="section-4.3-1">Data transmitted in a multicast channel is encrypted with symmetric keys so that on-path observers without access to these keys cannot decode the data.
However, since potentially many receivers receive identical packets and identical keys for the multicast channel and some receivers might be malicious, the packets are also protected by MC_CHANNEL_INTEGRITY (<a href="#channel-integrity-frame" class="xref">Section 11.5</a>) frames transmitted over a separate integrity-protected path.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">A client MUST NOT decode packets on a multicast channel for which it has not received a matching hash in an MC_CHANNEL_INTEGRITY frame over a different integrity-protected communication path.
The different path can be either the unicast connection or another multicast channel with packets that were verified with an earlier MC_CHANNEL_INTEGRITY frame.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="stream-processing">
<section id="section-4.4">
        <h3 id="name-stream-processing">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-stream-processing" class="section-name selfRef">Stream Processing</a>
        </h3>
<p id="section-4.4-1">Stream IDs in channels are restricted to unidirectional server initiated streams, or those with the least significant 2 bits of the stream ID equal to 3 (see <span>[<a href="#RFC9000" class="xref">RFC9000</a>]</span> Section 2.1).<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<p id="section-4.4-2">When a channel contains streams with ids above the client's unidirectional MAX_STREAMS, the server MUST NOT instruct the client to join that channel and SHOULD send a STREAMS_BLOCKED frame, as described in Sections 4.6 and 19.14 of <span>[<a href="#RFC9000" class="xref">RFC9000</a>]</span>.<a href="#section-4.4-2" class="pilcrow">¶</a></p>
<p id="section-4.4-3">If the client is already joined to a channel that carries streams that exceed or will soon exceed the client's unidirectional MAX_STREAMS, the server SHOULD send a MC_CHANNEL_LEAVE frame.<a href="#section-4.4-3" class="pilcrow">¶</a></p>
<p id="section-4.4-4">If a client receives a STREAM frame with an ID above its MAX_STREAMS on a channel, the client MAY increase its unidirectional MAX_STREAMS to a value greater than the new ID and send an update to the server, otherwise it MUST drop the packet and leave the channel with reason Max Streams Exceeded.<a href="#section-4.4-4" class="pilcrow">¶</a></p>
<p id="section-4.4-5">Since clients can join later than a channel began, it is RECOMMENDED that clients supporting the multicast extensions to QUIC be prepared to handle stream IDs that do not begin at early values, since by the time a client joins a channel in progress the stream id count might have been increasing for a long time.
Clients should therefore begin with a high initial_max_streams_uni or send an early MAX_STREAMS type 0x13 value (see Section 19.11 of <span>[<a href="#RFC9000" class="xref">RFC9000</a>]</span>) with a high limit.
Clients MAY use the maximum 2^60 for this high initial limit, but the specific choice is implementation-dependent.<a href="#section-4.4-5" class="pilcrow">¶</a></p>
<p id="section-4.4-6">The same stream ID may be used in both one or more multicast channels and the unicast connection.  As described in Section 2.2 of <span>[<a href="#RFC9000" class="xref">RFC9000</a>]</span>, stream data received multiple times for the same offset MUST be identical, even across multiple channels; if it's not identical it MAY be treated as a connection error of type PROTOCOL_VIOLATION.<a href="#section-4.4-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="flow-control">
<section id="section-5">
      <h2 id="name-flow-control">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-flow-control" class="section-name selfRef">Flow Control</a>
      </h2>
<p id="section-5-1">The values used for unicast flow control cannot be used to limit the transmission rate of a multicast channel because a single client with a low MAX_STREAM_DATA or MAX_DATA value that did not acknowledge receipt could block many other receivers if the servers had to ensure that channels responded to each client's limits.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">Instead, clients advertise resource limits that the server is responsible for staying within via MC_CLIENT_LIMITS (<a href="#client-limits-frame" class="xref">Section 11.7</a>) frames and their initial values from the transport parameter (<a href="#transport-parameter" class="xref">Section 3</a>).
The server advertises the expected maxima of the values that can contribute toward client resource limits within a channel in an MC_CHANNEL_ANNOUNCE (<a href="#channel-announce-frame" class="xref">Section 11.1</a>) frame.<a href="#section-5-2" class="pilcrow">¶</a></p>
<p id="section-5-3">If the server asks the client to join a channel that would exceed the client's limits with an up-to-date Client Limit Sequence Number, the client should send back a MC_CLIENT_CHANNEL_STATE_CHANGE (<a href="#client-channel-state-frame" class="xref">Section 11.9</a>) with "Declined Join" and reason "Property Violation".
If the server asks the client to join a channel that would exceed the client's limits with an out-of-date Client Limit Sequence Number or a Channel Property Sequence Number that the client has not yet seen, the client should instead send back a "Declined Join" with "Desynchronized Limit Violation".
If the actual contents sent in the channel exceed the advertised limits from the MC_CHANNEL_PROPERTY, clients SHOULD leave the stream with a PROTOCOL_ERROR/Limit Violated state change.<a href="#section-5-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="congestion-control">
<section id="section-6">
      <h2 id="name-congestion-control">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-congestion-control" class="section-name selfRef">Congestion Control</a>
      </h2>
<p id="section-6-1">The server maintains a full view of the traffic received by the client via the ACK frames coupled with the MC_CHANNEL_ACK (<a href="#channel-ack-frame" class="xref">Section 11.6</a>) frames.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">Under sustained persistent loss, the server SHOULD instruct the client such that the aggregate rate of joined channels remains under the data rate successfully received by the client in the recent past.<a href="#section-6-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="data-integrity">
<section id="section-7">
      <h2 id="name-data-integrity">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-data-integrity" class="section-name selfRef">Data Integrity</a>
      </h2>
<p id="section-7-1">TODO: import the <span>[<a href="#I-D.draft-krose-multicast-security" class="xref">I-D.draft-krose-multicast-security</a>]</span> explanation for why extra integrity protection is necessary (many client have the shared key, so AEAD doesn't provide authentication against other valid clients on its own).<a href="#section-7-1" class="pilcrow">¶</a></p>
<div id="packet-hashes">
<section id="section-7.1">
        <h3 id="name-packet-hashes">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-packet-hashes" class="section-name selfRef">Packet Hashes</a>
        </h3>
<p id="section-7.1-1">TODO: explanation and example for how to calculate the packet hash.
Note that the hash is on the unencrypted packet because it checks against a specific packet number, which is protected by AEAD.
(This approach also may help make better use of crypto hardware offload.)<a href="#section-7.1-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="packet-scheduling">
<section id="section-8">
      <h2 id="name-packet-scheduling">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-packet-scheduling" class="section-name selfRef">Packet Scheduling</a>
    </h2>
</section>
</div>
<div id="connection-termination">
<section id="section-9">
      <h2 id="name-connection-termination">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-connection-termination" class="section-name selfRef">Connection Termination</a>
      </h2>
<p id="section-9-1">Termination of the unicast connection behaves as described in Section 10 of <span>[<a href="#RFC9000" class="xref">RFC9000</a>]</span>, with the following notable differences:<a href="#section-9-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9-2.1">On the client side, termination of the unicast connection means that it MUST leave all multicast channels and discard any state associated with them. Servers MAY stop sending to multicast channels if there are no unicast connections left that are associated with them.<a href="#section-9-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-9-2.2">For determining the liveness of a connection, the client MUST only consider packets received on the unicast connection. Any packets received on a multicast channel MUST NOT be used to reset a timer checking if a potentially specified max_idle_timeout has been reached. If the unicast connection becomes idle and the server does not respond to a liveness test, the client MUST terminate the connection as described above.<a href="#section-9-2.2" class="pilcrow">¶</a>
</li>
      </ul>
<div id="stateless-reset">
<section id="section-9.1">
        <h3 id="name-stateless-reset">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-stateless-reset" class="section-name selfRef">Stateless Reset</a>
        </h3>
<p id="section-9.1-1">As clients can unilaterally stop the delivery of multicast packets by leaving the relevant (S,G), channels do not need stateless reset tokens.
Clients therefore do not share the stateless reset tokens of channels with the server. Instead, if an endpoint receives packets addressed to an (S,G) that it can not associate with any existing channel,
it MAY take the necessary steps to prevent the reception of further such packets, without the need to signal to the server that it should stop sending.<a href="#section-9.1-1" class="pilcrow">¶</a></p>
<p id="section-9.1-2">If a server or client somehow still detect a stateless reset for a channel, they MUST ignore it.<a href="#section-9.1-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="implementation-and-operational-considerations">
<section id="section-10">
      <h2 id="name-implementation-and-operatio">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-implementation-and-operatio" class="section-name selfRef">Implementation and Operational Considerations</a>
    </h2>
</section>
</div>
<div id="new-frames">
<section id="section-11">
      <h2 id="name-new-frames">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-new-frames" class="section-name selfRef">New Frames</a>
      </h2>
<div id="channel-announce-frame">
<section id="section-11.1">
        <h3 id="name-mc_channel_announce">
<a href="#section-11.1" class="section-number selfRef">11.1. </a><a href="#name-mc_channel_announce" class="section-name selfRef">MC_CHANNEL_ANNOUNCE</a>
        </h3>
<p id="section-11.1-1">Once a server learns that a client supports multicast through its transport parameters, it can send one or multiple MC_CHANNEL_ANNOUNCE frames (type=TBD-11..TBD-12) to share information about available channels with the client.
The MC_CHANNEL_ANNOUNCE frame contains the properties of a channel that do not change during its lifetime and the initial AEAD key that is applicable until a new one is received in a MC_CHANNEL_KEY frame.<a href="#section-11.1-1" class="pilcrow">¶</a></p>
<p id="section-11.1-2">MC_CHANNEL_ANNOUNCE frames are formatted as shown in <a href="#fig-mc-channel-announce" class="xref">Figure 4</a>.<a href="#section-11.1-2" class="pilcrow">¶</a></p>
<span id="name-mc_channel_announce-frame-f"></span><div id="fig-mc-channel-announce">
<figure id="figure-4">
          <div class="alignLeft art-text artwork" id="section-11.1-3.1">
<pre>
MC_CHANNEL_ANNOUNCE Frame {
  Type (i) = TBD-11..TBD-12 (experiments use 0xff3e811/0xff3e812),
  ID Length (8),
  Channel ID (8..160),
  Source IP (32..128),
  Group IP (32..128),
  UDP Port (16),
  Header AEAD Algorithm (16),
  Header Key Length (i),
  Header Key (..),
  AEAD Algorithm (16),
  Integrity Hash Algorithm (16),
  AEAD Key Length (i),
  AEAD Key (..),
  Max Rate (i),
  Max Idle Time (i),
  ACK Bundle Size (i)
}
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-mc_channel_announce-frame-f" class="selfRef">MC_CHANNEL_ANNOUNCE Frame Format</a>
          </figcaption></figure>
</div>
<p id="section-11.1-4">Frames of type TBD-10 are used for IPv4 and both Source and Group address are 32 bits long. Frames of type TBD-11 are used for IPv6 and both Source and Group address are 128 bits long.<a href="#section-11.1-4" class="pilcrow">¶</a></p>
<p id="section-11.1-5">MC_CHANNEL_ANNOUNCE frames contain the following fields:<a href="#section-11.1-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11.1-6.1">ID Length: The length in bytes of the Channel ID field.<a href="#section-11.1-6.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.1-6.2">Channel ID: The channel ID of the channel that is getting announced.<a href="#section-11.1-6.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.1-6.3">IP Family: Unset indicates IPv4, Set indicates IPv6 for both Source IP and Group IP.<a href="#section-11.1-6.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.1-6.4">Source IP: The IP Address of the source of the (S,G) for the channel.  Either a 32-bit IPv4 address or a 128-bit IPv6 address, as indicated by IP Family.<a href="#section-11.1-6.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.1-6.5">Group IP: The IP Address of the group of the (S,G) for the channel.  Either a 32-bit IPv4 address or a 128-bit IPv6 address, as indicated by IP Family.<a href="#section-11.1-6.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.1-6.6">UDP Port: The 16-bit UDP Port of traffic for the channel.<a href="#section-11.1-6.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.1-6.7">Header AEAD Algorithm: A value from <a href="https://www.iana.org/assignments/aead-parameters/aead-parameters.xhtml">https://www.iana.org/assignments/aead-parameters/aead-parameters.xhtml</a>, used to protect the header fields in the channel packets.  The value MUST match a value provided in the "AEAD Algorithms List" of the transport parameter (see <a href="#transport-parameter" class="xref">Section 3</a>).<a href="#section-11.1-6.7" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.1-6.8">Header Key Length: Provides the length of the Key field.  It MUST match a valid key length for the Header AEAD Algorithm.<a href="#section-11.1-6.8" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.1-6.9">
            <p id="section-11.1-6.9.1">Header Key: A key for use with the Header AEAD Algorithm for protecting the header fields of 1-RTT packets in the channel as described in <span>[<a href="#RFC9001" class="xref">RFC9001</a>]</span>.<a href="#section-11.1-6.9.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11.1-6.9.2.1">
                <strong>Author's Note:</strong> I assume it's not better to use a TLS CipherSuite because there is no KDF stage for deriving these keys (they are a strict server-to-client advertisement), so the Hash part would be unused? (<a href="https://www.iana.org/assignments/tls-parameters/tls-parameters.xhtml#tls-parameters-4">https://www.iana.org/assignments/tls-parameters/tls-parameters.xhtml#tls-parameters-4</a>)<a href="#section-11.1-6.9.2.1" class="pilcrow">¶</a>
</li>
            </ul>
</li>
          <li class="normal" id="section-11.1-6.10">AEAD Algorithm: A value from <a href="https://www.iana.org/assignments/aead-parameters/aead-parameters.xhtml">https://www.iana.org/assignments/aead-parameters/aead-parameters.xhtml</a>.  The value MUST match a value provided in the "AEAD Algorithms List" of the transport parameter (see <a href="#transport-parameter" class="xref">Section 3</a>).<a href="#section-11.1-6.10" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.1-6.11">
            <p id="section-11.1-6.11.1">Integrity Hash Algorithm: The hash algorithm used in integrity frames.<a href="#section-11.1-6.11.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11.1-6.11.2.1">
                <p id="section-11.1-6.11.2.1.1"><strong>Author's Note:</strong> Several candidate iana registries, not sure which one to use?  Some have only text for some possibly useful values.  For now we use the first of these:<a href="#section-11.1-6.11.2.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11.1-6.11.2.1.2.1">
                    <a href="https://www.iana.org/assignments/named-information/named-information.xhtml#hash-alg">https://www.iana.org/assignments/named-information/named-information.xhtml#hash-alg</a><a href="#section-11.1-6.11.2.1.2.1" class="pilcrow">¶</a>
</li>
                  <li class="normal" id="section-11.1-6.11.2.1.2.2">
                    <a href="https://www.iana.org/assignments/tls-parameters/tls-parameters.xhtml#tls-parameters-18">https://www.iana.org/assignments/tls-parameters/tls-parameters.xhtml#tls-parameters-18</a><a href="#section-11.1-6.11.2.1.2.2" class="pilcrow">¶</a>
</li>
                  <li class="normal" id="section-11.1-6.11.2.1.2.3">(text-only): <a href="https://www.iana.org/assignments/hash-function-text-names/hash-function-text-names.xhtml">https://www.iana.org/assignments/hash-function-text-names/hash-function-text-names.xhtml</a><a href="#section-11.1-6.11.2.1.2.3" class="pilcrow">¶</a>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="normal" id="section-11.1-6.12">AEAD Key Length: Provides the length of the AEAD Key field.  It MUST match a valid key length for the AEAD Algorithm from the MC_CHANNEL_ANNOUNCE frame for this channel.<a href="#section-11.1-6.12" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.1-6.13">AEAD Key: Used to protect the packet contents of 1-RTT packets for the channel as described in <span>[<a href="#RFC9001" class="xref">RFC9001</a>]</span>, with length given by Key Length.
To maintain forward secrecy and prevent malicious clients from decrypting packets long after they have left or were removed from the unicast connection, servers SHOULD periodically send key updates using only unicast.<a href="#section-11.1-6.13" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.1-6.14">Max Rate: The maximum rate in Kibps of the payload data for this channel.Channel data MUST NOT exceed this rate over any 5s window, if it does clients SHOULD leave the channel with reason Max Rate Exceeded.<a href="#section-11.1-6.14" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.1-6.15">Max Idle Time: The maximum expected idle time of the channel.  If this amount of time passes in a joined channel without data received, clients SHOULD leave the channel with reason Max Idle Time Exceeded.<a href="#section-11.1-6.15" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.1-6.16">ACK Bundle Size: The minimum number of ACKs a client should send in a single QUIC packet. If the max_ack_delay would force a client to send a packet that only consists of MC_CHANNEL_ACK frames, it SHOULD instead wait with sending until at least the specified number of acknowledgements have been collected. However, the Client MUST send any pending acknowledgements at least once per Max Idle Time to prevent the Server from perceiving the channel as interrupted.<a href="#section-11.1-6.16" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-11.1-7">A client MUST NOT use the channel ID included in the MC_CHANNEL_ANNOUNCE frame as a connection ID for the unicast connection. If it is already in use, the client should retire it as soon as possible.
As the server knows which connection IDs are in use by the client, it MUST wait with the sending of a MC_CHANNEL_JOIN frame until the channel ID associated with it has been retired by the client.<a href="#section-11.1-7" class="pilcrow">¶</a></p>
<p id="section-11.1-8">As all the properties except the AEAD key in MC_CHANNEL_ANNOUNCE frames are immutable during the lifetime of a channel, a server SHOULD NOT send a MC_CHANNEL_ANNOUNCE frame for the same channel more than once to each client. It SHOULD instead send key updates using the MC_CHANNEL_KEY frame.<a href="#section-11.1-8" class="pilcrow">¶</a></p>
<p id="section-11.1-9">A server SHOULD send an MC_CHANNEL_ANNOUNCE frame for a channel before sending a MC_CHANNEL_KEY or MC_CHANNEL_JOIN frame for it.<a href="#section-11.1-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="channel-key-frame">
<section id="section-11.2">
        <h3 id="name-mc_channel_key">
<a href="#section-11.2" class="section-number selfRef">11.2. </a><a href="#name-mc_channel_key" class="section-name selfRef">MC_CHANNEL_KEY</a>
        </h3>
<p id="section-11.2-1">An MC_CHANNEL_KEY frame (type=TBD-01) is sent from server to client, either with the unicast connection or in an existing joined multicast channel.
The MC_CHANNEL_KEY frame contains an updated AEAD key that is applied to STREAM frames received on the multicast channel.<a href="#section-11.2-1" class="pilcrow">¶</a></p>
<p id="section-11.2-2">A server can send an update to a prior MC_CHANNEL_KEY frame with a new sequence number increased by one. A server MUST send continuous sequence numbers.<a href="#section-11.2-2" class="pilcrow">¶</a></p>
<p id="section-11.2-3">It is RECOMMENDED that servers send regular key updates.<a href="#section-11.2-3" class="pilcrow">¶</a></p>
<p id="section-11.2-4">MC_CHANNEL_KEY frames are formatted as shown in <a href="#fig-mc-channel-key-format" class="xref">Figure 5</a>.<a href="#section-11.2-4" class="pilcrow">¶</a></p>
<span id="name-mc_channel_key-frame-format"></span><div id="fig-mc-channel-key-format">
<figure id="figure-5">
          <div class="alignLeft art-text artwork" id="section-11.2-5.1">
<pre>
MC_CHANNEL_KEY Frame {
  Type (i) = TBD-01 (experiments use 0xff3e801),
  ID Length (8),
  Channel ID (8..160),
  Key Sequence Number (i),
  From Packet Number (i),
  Key Length (i),
  Key (..)
}
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-mc_channel_key-frame-format" class="selfRef">MC_CHANNEL_KEY Frame Format</a>
          </figcaption></figure>
</div>
<p id="section-11.2-6">MC_CHANNEL_KEY frames contain the following fields:<a href="#section-11.2-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11.2-7.1">ID Length: The length in bytes of the Channel ID field.<a href="#section-11.2-7.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.2-7.2">Channel ID: The channel ID for the channel associated with this frame.<a href="#section-11.2-7.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.2-7.3">Key Sequence Number: Increases by 1 each time the key for the channel is changed by the server.  The client tracks the sequence number of the MC_CHANNEL_KEY frame that set its current value, and only updates the value and the packet number range on which it's applicable if the Properties Sequence Number is higher. If there is a gap in sequence numbers due to reordering or retransmission of packets, the client MUST apply the key contained in such packets as if they arrived in order.<a href="#section-11.2-7.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.2-7.4">From Packet Number: The values in this MC_CHANNEL_KEY frame apply only to packets starting at From Packet Number and continuing until they are overwritten by a new MC_CHANNEL_KEY frame with a higher From Packet Number.<a href="#section-11.2-7.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.2-7.5">Key Length: Provides the length of the Key field.  It MUST match a valid key length for the AEAD Algorithm from the MC_CHANNEL_ANNOUNCE frame for this channel.<a href="#section-11.2-7.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.2-7.6">Key: Used to protect the packet contents of 1-RTT packets for the channel as described in <span>[<a href="#RFC9001" class="xref">RFC9001</a>]</span>, with length given by Key Length.
To maintain forward secrecy and prevent malicious clients from decrypting packets long after they have left or were removed from the unicast connection, servers SHOULD periodically send key updates using only unicast.<a href="#section-11.2-7.6" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-11.2-8">The From Packet Number is used to indicate the starting packet number (Section 17.1 of <span>[<a href="#RFC9000" class="xref">RFC9000</a>]</span>) of the 1-RTT packets received for which the key contained in a MC_CHANNELS_KEY frame are applicable.
This key is applicable to all future packets until it is overwritten by a new MC_CHANNEL_KEY frame.<a href="#section-11.2-8" class="pilcrow">¶</a></p>
<p id="section-11.2-9">The key of a channel MAY change during its lifetime. As such, a server SHOULD NOT send keys for channels except those the client has joined or will be imminently asked to join.<a href="#section-11.2-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="channel-join-frame">
<section id="section-11.3">
        <h3 id="name-mc_channel_join">
<a href="#section-11.3" class="section-number selfRef">11.3. </a><a href="#name-mc_channel_join" class="section-name selfRef">MC_CHANNEL_JOIN</a>
        </h3>
<p id="section-11.3-1">An MC_CHANNEL_JOIN frame (type TBD-02) is sent from server to client and requests that a client join the given transport addresses and ports and process packets with the given Channel ID according to the corresponding MC_CHANNEL_ANNOUNCE.<a href="#section-11.3-1" class="pilcrow">¶</a></p>
<p id="section-11.3-2">A client cannot join a multicast channel without first receiving an MC_CHANNEL_ANNOUNCE frame which sets all the values for a channel.<a href="#section-11.3-2" class="pilcrow">¶</a></p>
<p id="section-11.3-3">If a client receives a MC_CHANNEL_JOIN for a channel for which it has not received an MC_CHANNEL_ANNOUNCE frame, it MUST respond with a MC_CLIENT_CHANNEL_STATE with State "Declined Join" and reason "Missing Properties". The server MAY send another MC_CHANNEL_JOIN after receiving an acknowledgement indicating receipt of the MC_CHANNEL_ANNOUNCE.<a href="#section-11.3-3" class="pilcrow">¶</a></p>
<p id="section-11.3-4">MC_CHANNEL_JOIN frames are formatted as shown in <a href="#fig-mc-channel-join-format" class="xref">Figure 6</a>.<a href="#section-11.3-4" class="pilcrow">¶</a></p>
<span id="name-mc_channel_join-frame-forma"></span><div id="fig-mc-channel-join-format">
<figure id="figure-6">
          <div class="alignLeft art-text artwork" id="section-11.3-5.1">
<pre>
MC_CHANNEL_JOIN Frame {
  Type (i) = TBD-02 (experiments use 0xff3e802),
  MC_CLIENT_LIMIT Sequence Number (i),
  MC_CLIENT_CHANNEL_STATE Sequence Number (i),
  MC_CHANNEL_KEY Sequence Number (i),
  ID Length (8),
  Channel ID (8..160)
}
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-mc_channel_join-frame-forma" class="selfRef">MC_CHANNEL_JOIN Frame Format</a>
          </figcaption></figure>
</div>
<p id="section-11.3-6">The sequence numbers are the most recently processed sequence number by the server from the respective frame type. They are present to allow the client to distinguish between a broken server that has performed an illegal action and an instruction that's based on updates that are out of sync (either one or more missing updates to MC_CHANNEL_KEY not yet received by the client or one or more missing updates to MC_CLIENT_LIMITS or MC_CLIENT_CHANNEL_STATE not yet received by the server).<a href="#section-11.3-6" class="pilcrow">¶</a></p>
<p id="section-11.3-7">A client MAY perform the join if it has the sequence number of the corresponding channel properties and the client's limits will not be exceeded, even if the client sequence numbers are not up-to-date.
If the client does not join, it MUST send a MC_CLIENT_CHANNEL_STATE with "Declined Join" and a reason.<a href="#section-11.3-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="channel-leave-frame">
<section id="section-11.4">
        <h3 id="name-mc_channel_leave">
<a href="#section-11.4" class="section-number selfRef">11.4. </a><a href="#name-mc_channel_leave" class="section-name selfRef">MC_CHANNEL_LEAVE</a>
        </h3>
<p id="section-11.4-1">An MC_CHANNEL_LEAVE frame (type=TBD-03) is sent from server to client, and requests that a client leave the given channel.<a href="#section-11.4-1" class="pilcrow">¶</a></p>
<p id="section-11.4-2">If the client has already left or declined to join the channel, the MC_CHANNEL_LEAVE is ignored.<a href="#section-11.4-2" class="pilcrow">¶</a></p>
<p id="section-11.4-3">If a MC_CHANNEL_JOIN or an MC_CHANNEL_LEAVE with the same Channel ID and a higher MC_CLIENT_CHANNEL_STATE Sequence number has previously been received, the MC_CHANNEL_LEAVE is ignored.<a href="#section-11.4-3" class="pilcrow">¶</a></p>
<p id="section-11.4-4">Otherwise, the client MUST leave the channel and send a new MC_CLIENT_CHANNEL_STATE frame with reason Left as requested by server.<a href="#section-11.4-4" class="pilcrow">¶</a></p>
<p id="section-11.4-5">MC_CHANNEL_LEAVE frames are formatted as shown in <a href="#fig-mc-channel-leave-format" class="xref">Figure 7</a>.<a href="#section-11.4-5" class="pilcrow">¶</a></p>
<span id="name-mc_channel_leave-frame-form"></span><div id="fig-mc-channel-leave-format">
<figure id="figure-7">
          <div class="alignLeft art-text artwork" id="section-11.4-6.1">
<pre>
MC_CHANNEL_LEAVE Frame {
  Type (i) = TBD-03 (experiments use 0xff3e803),
  ID Length (8),
  Channel ID (8..160),
  MC_CLIENT_CHANNEL_STATE Sequence Number (i),
  After Packet Number (i)
}
</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-mc_channel_leave-frame-form" class="selfRef">MC_CHANNEL_LEAVE Frame Format</a>
          </figcaption></figure>
</div>
<p id="section-11.4-7">If After Packet Number is nonzero, wait until receiving that packet or a higher valued number before leaving.<a href="#section-11.4-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="channel-integrity-frame">
<section id="section-11.5">
        <h3 id="name-mc_channel_integrity">
<a href="#section-11.5" class="section-number selfRef">11.5. </a><a href="#name-mc_channel_integrity" class="section-name selfRef">MC_CHANNEL_INTEGRITY</a>
        </h3>
<p id="section-11.5-1">MC_CHANNEL_INTEGRITY frames are sent from server to client and are used to convey packet hashes for validating the integrity of packets received over the multicast channel as described in <a href="#packet-hashes" class="xref">Section 7.1</a>.<a href="#section-11.5-1" class="pilcrow">¶</a></p>
<p id="section-11.5-2">MC_CHANNEL_INTEGRITY frames are formatted as shown in <a href="#fig-mc-channel-integrity-format" class="xref">Figure 8</a>.<a href="#section-11.5-2" class="pilcrow">¶</a></p>
<span id="name-mc_channel_integrity-frame-"></span><div id="fig-mc-channel-integrity-format">
<figure id="figure-8">
          <div class="alignLeft art-text artwork" id="section-11.5-3.1">
<pre>
MC_CHANNEL_INTEGRITY Frame {
  Type (i) = TBD-04..TBD-05 (experiments use 0xff3e804/0xff3e805),
  ID Length (8),
  Channel ID (8..160),
  Packet Number Start (i),
  [Length (i)],
  Packet Hashes (..)
}
</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-mc_channel_integrity-frame-" class="selfRef">MC_CHANNEL_INTEGRITY Frame Format</a>
          </figcaption></figure>
</div>
<p id="section-11.5-4">For type TBD-05, Length is present and is a count of packet hashes.  For TBD-04, Length is not present and the packet hashes extend to the end of the packet.<a href="#section-11.5-4" class="pilcrow">¶</a></p>
<p id="section-11.5-5">The first hash in the Packet Hashes list is a hash of a 1-RTT packet with the Channel ID equal to the Channel ID in the MC_CHANNEL_INTEGRITY frame and packet number equal to the Packet Number Start field.
Subsequent hashes refer to the packets for the channel with packet numbers increasing by 1.<a href="#section-11.5-5" class="pilcrow">¶</a></p>
<p id="section-11.5-6">Packet hashes MUST have length with an integer multiple of the length indicated by the Hash Algorithm from the MC_CHANNEL_ANNOUNCE frame.<a href="#section-11.5-6" class="pilcrow">¶</a></p>
<p id="section-11.5-7">See <a href="#packet-hashes" class="xref">Section 7.1</a> for a description of the packet hash calculation.<a href="#section-11.5-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="channel-ack-frame">
<section id="section-11.6">
        <h3 id="name-mc_channel_ack">
<a href="#section-11.6" class="section-number selfRef">11.6. </a><a href="#name-mc_channel_ack" class="section-name selfRef">MC_CHANNEL_ACK</a>
        </h3>
<p id="section-11.6-1">The MC_CHANNEL_ACK frame (types TBD-06 and TBD-07; experiments use 0xff3e806..0xff3e807) is an extension of the ACK frame defined by <span>[<a href="#RFC9000" class="xref">RFC9000</a>]</span>. It is used to acknowledge packets that were sent on multicast channels. If the frame type is TBD-07, MC_CHANNEL_ACK frames also contain the sum of QUIC packets with associated ECN marks received on the connection up to this point.<a href="#section-11.6-1" class="pilcrow">¶</a></p>
<p id="section-11.6-2">(TODO: Is it possible to reuse the multiple packet number space version of ACK_MP from Section 12.2 of <span>[<a href="#I-D.draft-ietf-quic-multipath" class="xref">I-D.draft-ietf-quic-multipath</a>]</span>, defining channel id as the packet number space?  at 2022-05 they're identical.)<a href="#section-11.6-2" class="pilcrow">¶</a></p>
<p id="section-11.6-3">MC_CHANNEL_ACK frames are formatted as shown in <a href="#fig-mc-channel-ack-format" class="xref">Figure 9</a>.<a href="#section-11.6-3" class="pilcrow">¶</a></p>
<span id="name-mc_channel_ack-frame-format"></span><div id="fig-mc-channel-ack-format">
<figure id="figure-9">
          <div class="alignLeft art-text artwork" id="section-11.6-4.1">
<pre>
MC_CHANNEL_ACK Frame {
  Type (i) = TBD-06..TBD-07 (experiments use 0xff3e806, 0xff3e807),
  ID Length (8),
  Channel ID (8..160),
  Largest Acknowledged (i),
  ACK Delay (i),
  ACK Range Count (i),
  First ACK Range (i),
  ACK Range (..) ...,
  [ECN Counts (..)],
}
</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-mc_channel_ack-frame-format" class="selfRef">MC_CHANNEL_ACK Frame Format</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="client-limits-frame">
<section id="section-11.7">
        <h3 id="name-mc_client_limits">
<a href="#section-11.7" class="section-number selfRef">11.7. </a><a href="#name-mc_client_limits" class="section-name selfRef">MC_CLIENT_LIMITS</a>
        </h3>
<p id="section-11.7-1">MC_CLIENT_LIMITS frames are formatted as shown in <a href="#fig-mc-client-limits-format" class="xref">Figure 10</a>.<a href="#section-11.7-1" class="pilcrow">¶</a></p>
<span id="name-mc_client_limits-frame-form"></span><div id="fig-mc-client-limits-format">
<figure id="figure-10">
          <div class="alignLeft art-text artwork" id="section-11.7-2.1">
<pre>
MC_CLIENT_LIMITS Frame {
  Type (i) = TBD-09 (experiments use 0xff3e809),
  Client Limits Sequence Number (i),
  Capabilities Flags(i),
  Max Aggregate Rate (i),
  Max Channel IDs (i),
  Max Joined Count (i),
}
</pre>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a>:
<a href="#name-mc_client_limits-frame-form" class="selfRef">MC_CLIENT_LIMITS Frame Format</a>
          </figcaption></figure>
</div>
<p id="section-11.7-3">The sequence number is implicitly 0 before the first MC_CLIENT_LIMITS frame from the client, and increases by 1 each new frame that's sent.
Newer frames override older ones.<a href="#section-11.7-3" class="pilcrow">¶</a></p>
<p id="section-11.7-4">Capabilities Flags is a bit field structured as follows:<a href="#section-11.7-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11.7-5.1">0x1 is set if IPv4 channels are permitted<a href="#section-11.7-5.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.7-5.2">0x2 is set if IPv6 channels are permitted<a href="#section-11.7-5.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-11.7-6">For example, a Capabilities Flags value of 3 (0x11) indicates that both IPv4 and IPv6 channels are permitted.<a href="#section-11.7-6" class="pilcrow">¶</a></p>
<p id="section-11.7-7">Max Aggregate Rate allowed across all joined channels is in Kibps.<a href="#section-11.7-7" class="pilcrow">¶</a></p>
<p id="section-11.7-8">Max Channel IDs is the count of channel IDs that can be reserved and have properties.  Retired Channel IDs don't count against this value.<a href="#section-11.7-8" class="pilcrow">¶</a></p>
<p id="section-11.7-9">Max Joined Count is the count of channels that are allowed to be joined concurrently.<a href="#section-11.7-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="channel-retire-frame">
<section id="section-11.8">
        <h3 id="name-mc_channel_retire">
<a href="#section-11.8" class="section-number selfRef">11.8. </a><a href="#name-mc_channel_retire" class="section-name selfRef">MC_CHANNEL_RETIRE</a>
        </h3>
<p id="section-11.8-1">MC_CHANNEL_RETIRE frames are formatted as shown in <a href="#fig-mc-channel-retire-format" class="xref">Figure 11</a>.<a href="#section-11.8-1" class="pilcrow">¶</a></p>
<span id="name-mc_channel_retire-frame-for"></span><div id="fig-mc-channel-retire-format">
<figure id="figure-11">
          <div class="alignLeft art-text artwork" id="section-11.8-2.1">
<pre>
MC_CHANNEL_RETIRE Frame {
  Type (i) = TBD-0a (experiments use 0xff3e80a),
  ID Length (8),
  Channel ID (8..160),
  After Packet Number (i)
}
</pre>
</div>
<figcaption><a href="#figure-11" class="selfRef">Figure 11</a>:
<a href="#name-mc_channel_retire-frame-for" class="selfRef">MC_CHANNEL_RETIRE Frame Format</a>
          </figcaption></figure>
</div>
<p id="section-11.8-3">Retires a channel by id, discarding any state associated with it.   (Author comment: We can't use RETIRE_CONNECTION_ID because we don't have a coherent sequence number.)
If After Packet Number is nonzero, the channel will be retired after receiving that packet or a higher valued number, otherwise it will be retired immediately.<a href="#section-11.8-3" class="pilcrow">¶</a></p>
<p id="section-11.8-4">After retiring a channel, the client MUST send a new MC_CLIENT_CHANNEL_STATE frame with reason Retired to the server.<a href="#section-11.8-4" class="pilcrow">¶</a></p>
<p id="section-11.8-5">If the client is still joined in the channel that is being retired, it MUST also leave it. If a channel is left this way, it does not need to send an additional MC_CLIENT_CHANNEL_STATE frame with reason Left.<a href="#section-11.8-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="client-channel-state-frame">
<section id="section-11.9">
        <h3 id="name-mc_client_channel_state">
<a href="#section-11.9" class="section-number selfRef">11.9. </a><a href="#name-mc_client_channel_state" class="section-name selfRef">MC_CLIENT_CHANNEL_STATE</a>
        </h3>
<p id="section-11.9-1">MC_CLIENT_CHANNEL_STATE frames are sent from client to server to report changes in the client's channel state.
Each time the channel state changes, the Client Channel State Sequence number is increased by one.
It is a state change to the channel if the server requests that a client join a channel and the client declines the join, even though no join occurs on the network.<a href="#section-11.9-1" class="pilcrow">¶</a></p>
<p id="section-11.9-2">MC_CLIENT_CHANNEL_STATE frames are formatted as shown in <a href="#fig-mc-client-channel-state-format" class="xref">Figure 12</a>.<a href="#section-11.9-2" class="pilcrow">¶</a></p>
<span id="name-mc_client_channel_state-fra"></span><div id="fig-mc-client-channel-state-format">
<figure id="figure-12">
          <div class="alignLeft art-text artwork" id="section-11.9-3.1">
<pre>
MC_CLIENT_CHANNEL_STATE Frame {
  Type (i) = TBD-0b (experiments use 0xff3e80b),
  Client Channel State Sequence Number (i),
  ID Length (8),
  Channel ID (8..160),
  State (i),
  Reason (0..i)
}
</pre>
</div>
<figcaption><a href="#figure-12" class="selfRef">Figure 12</a>:
<a href="#name-mc_client_channel_state-fra" class="selfRef">MC_CLIENT_CHANNEL_STATE Frame Format</a>
          </figcaption></figure>
</div>
<p id="section-11.9-4">State has these defined values:<a href="#section-11.9-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11.9-5.1">0x1: Left<a href="#section-11.9-5.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.9-5.2">0x2: Declined Join<a href="#section-11.9-5.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.9-5.3">0x3: Joined<a href="#section-11.9-5.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.9-5.4">0x4: Retired<a href="#section-11.9-5.4" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-11.9-6">If State is Joined or Retired, the Reason field is absent.<a href="#section-11.9-6" class="pilcrow">¶</a></p>
<p id="section-11.9-7">If State is Left or Declined Join, the Reason field is set to one of:<a href="#section-11.9-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11.9-8.1">0x0: Unspecified Other<a href="#section-11.9-8.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.9-8.2">0x1: Left as requested by server<a href="#section-11.9-8.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.9-8.3">0x2: Administrative Block<a href="#section-11.9-8.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.9-8.4">0x3: Protocol Error<a href="#section-11.9-8.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.9-8.5">0x4: Property Violation<a href="#section-11.9-8.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.9-8.6">0x5: Unsynchronized Properties<a href="#section-11.9-8.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.9-8.7">0x6: ID Collision<a href="#section-11.9-8.7" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.9-8.8">0x10: Held Down<a href="#section-11.9-8.8" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.9-8.9">0x11: Max Idle Time Exceeded<a href="#section-11.9-8.9" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.9-8.10">0x12: Max Rate Exceeded<a href="#section-11.9-8.10" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.9-8.11">0x13: High Loss<a href="#section-11.9-8.11" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.9-8.12">0x14: Spurious Traffic<a href="#section-11.9-8.12" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.9-8.13">0x15: Max Streams Exceeded<a href="#section-11.9-8.13" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.9-8.14">0x16: No Traffic<a href="#section-11.9-8.14" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-11.9-8.15">0x1000000-0x3fffffff: Application-specific Reason<a href="#section-11.9-8.15" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-11.9-9">A client might receive multicast packets that it can not associate with any channel ID. If these are addressed to an (S,G) that is used for reception in one or more known channels, it MAY leave these channels with reason "Spurious traffic".<a href="#section-11.9-9" class="pilcrow">¶</a></p>
<p id="section-11.9-10">(TODO: Or should we try to reuse PATH_ABANDON and/or PATH_STATUS?  I don't think they're sufficient, but maybe?):
  - <span>[<a href="#I-D.draft-ietf-quic-multipath" class="xref">I-D.draft-ietf-quic-multipath</a>]</span>
  - <a href="https://datatracker.ietf.org/doc/html/draft-liu-multipath-quic-04#section-9.1">https://datatracker.ietf.org/doc/html/draft-liu-multipath-quic-04#section-9.1</a><a href="#section-11.9-10" class="pilcrow">¶</a></p>
<p id="section-11.9-11">(Authors comment: The things server needs to know for state changes <em>could</em> maybe be inferred from ack responses but explicit seems better, allowing for a more proactive response under strain?)<a href="#section-11.9-11" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="frames-carried-in-channel-packets">
<section id="section-12">
      <h2 id="name-frames-carried-in-channel-p">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-frames-carried-in-channel-p" class="section-name selfRef">Frames Carried in Channel Packets</a>
      </h2>
<p id="section-12-1">MC Channels will contain normal QUIC 1-rtt data packets (see Section 17.3.1 of <span>[<a href="#RFC9000" class="xref">RFC9000</a>]</span>) except using the Channel ID instead of a Connection ID.  The packets are protected with the keys from MC_CHANNEL_KEY frames for the corresponding channel.<a href="#section-12-1" class="pilcrow">¶</a></p>
<p id="section-12-2">Data packet hashes will also be sent in MC_CHANNEL_INTEGRITY frames, as keys cannot be trusted for integrity due to giving them to too many receivers, as in <span>[<a href="#I-D.draft-krose-multicast-security" class="xref">I-D.draft-krose-multicast-security</a>]</span>.<a href="#section-12-2" class="pilcrow">¶</a></p>
<p id="section-12-3">The 1-rtt packets in multicast channels will have a restricted set of frames.
Since the channel is strictly 1-way server to client, the general principle is that broadcastable shared server-&gt;client data frames can be sent, but frames that make sense only for individualized connections cannot.<a href="#section-12-3" class="pilcrow">¶</a></p>
<p id="section-12-4">Permitted:<a href="#section-12-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12-5.1">PADDING Frames (<span>[<a href="#RFC9000" class="xref">RFC9000</a>]</span> Section 19.1)<a href="#section-12-5.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-12-5.2">PING Frames (<span>[<a href="#RFC9000" class="xref">RFC9000</a>]</span> Section 19.2)<a href="#section-12-5.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-12-5.3">RESET_STREAM Frames (<span>[<a href="#RFC9000" class="xref">RFC9000</a>]</span> Section 19.4)<a href="#section-12-5.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-12-5.4">STREAM Frames (<span>[<a href="#RFC9000" class="xref">RFC9000</a>]</span> Section 19.8)<a href="#section-12-5.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-12-5.5">DATAGRAM Frames (both types) (<span>[<a href="#RFC9221" class="xref">RFC9221</a>]</span> Section 4)<a href="#section-12-5.5" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-12-5.6">MC_CHANNEL_KEY<a href="#section-12-5.6" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-12-5.7">MC_CHANNEL_LEAVE (however, join must come over unicast?)<a href="#section-12-5.7" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-12-5.8">MC_CHANNEL_INTEGRITY (not for this channel, only for another)<a href="#section-12-5.8" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-12-5.9">MC_CHANNEL_RETIRE<a href="#section-12-5.9" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-12-6">Not permitted:<a href="#section-12-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12-7.1">19.3.  ACK Frames<a href="#section-12-7.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-12-7.2">19.6.  CRYPTO Frames (crypto handshake does not happen on mc channels)<a href="#section-12-7.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-12-7.3">19.7.  NEW_TOKEN Frames<a href="#section-12-7.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-12-7.4">
          <p id="section-12-7.4.1">Flow control is different:<a href="#section-12-7.4.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12-7.4.2.1">19.5.  STOP_SENDING Frames<a href="#section-12-7.4.2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-12-7.4.2.2">19.9.  MAX_DATA Frames  (flow control for mc channels is by rate)<a href="#section-12-7.4.2.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-12-7.4.2.3">19.10. MAX_STREAM_DATA Frames<a href="#section-12-7.4.2.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-12-7.4.2.4">19.11. MAX_STREAMS Frames<a href="#section-12-7.4.2.4" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-12-7.4.2.5">19.12. DATA_BLOCKED Frames<a href="#section-12-7.4.2.5" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-12-7.4.2.6">19.13. STREAM_DATA_BLOCKED Frames<a href="#section-12-7.4.2.6" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-12-7.4.2.7">19.14. STREAMS_BLOCKED Frames<a href="#section-12-7.4.2.7" class="pilcrow">¶</a>
</li>
          </ul>
</li>
        <li class="normal" id="section-12-7.5">
          <p id="section-12-7.5.1">Channel ID Migration can't use the "prior to" concept within a channel, not 0-starting<a href="#section-12-7.5.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12-7.5.2.1">19.15. NEW_CONNECTION_ID Frames<a href="#section-12-7.5.2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-12-7.5.2.2">19.16. RETIRE_CONNECTION_ID Frames<a href="#section-12-7.5.2.2" class="pilcrow">¶</a>
</li>
          </ul>
</li>
        <li class="normal" id="section-12-7.6">
          <p id="section-12-7.6.1">Channels don't have the same kind of path validation, as there's a unicast anchor with acks for the multicast packets:<a href="#section-12-7.6.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12-7.6.2.1">19.17. PATH_CHALLENGE Frames<a href="#section-12-7.6.2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-12-7.6.2.2">19.18. PATH_RESPONSE Frames<a href="#section-12-7.6.2.2" class="pilcrow">¶</a>
</li>
          </ul>
</li>
        <li class="normal" id="section-12-7.7">19.19. CONNECTION_CLOSE Frames<a href="#section-12-7.7" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-12-7.8">19.20. HANDSHAKE_DONE Frames<a href="#section-12-7.8" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-12-7.9">MC_CHANNEL_ANNOUNCE<a href="#section-12-7.9" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-12-7.10">MC_CLIENT_LIMITS<a href="#section-12-7.10" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-12-7.11">MC_CLIENT_CHANNEL_STATE<a href="#section-12-7.11" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-12-7.12">MC_CHANNEL_ACK<a href="#section-12-7.12" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<div id="error-codes">
<section id="section-13">
      <h2 id="name-error-codes">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-error-codes" class="section-name selfRef">Error Codes</a>
    </h2>
</section>
</div>
<div id="security-considerations">
<section id="section-14">
      <h2 id="name-security-considerations">
<a href="#section-14" class="section-number selfRef">14. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-14-1">(Authors comment: Mostly incorporate <span>[<a href="#I-D.draft-krose-multicast-security" class="xref">I-D.draft-krose-multicast-security</a>]</span>.  Anything else?<a href="#section-14-1" class="pilcrow">¶</a></p>
<p id="section-14-2">e.g. if a different legitimate quic connection says someone
else's quic multicast stream is theirs, that's maybe a problem
worth protecting against.  Maybe we need a periodic asymmetric
challenge?  I'm thinking send a public key on the multicast
channel and in the unicast channels send an individualized MAC
signed with the private key and verify it with the public key,
so that in addition to validating that the unicast server knows
the contents of the multicast packets via the hashes it supplies,
the multicast stream provides a way for the client to validate
that the unicast stream is authorized to use it for data transport
via proof they know the private key corresponding to the public
key that arrived on the multicast channel.
Note this doesn't prevent unauthorized receipt of multicast
data packts, but does prevent a quic server from lying when
claiming a multicast data channel belongs to it, preventing
legit receivers from consuming it.<a href="#section-14-2" class="pilcrow">¶</a></p>
<p id="section-14-3">alternatively, can the multicast channel just periodically say
what domain name is expected for the quic connection and get the
same crypto guarantee of a proper sender via the domain's cert,
which was already checked on the unicast channel?)<a href="#section-14-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-15">
      <h2 id="name-iana-considerations">
<a href="#section-15" class="section-number selfRef">15. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-15-1">TODO: lots<a href="#section-15-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-16">
      <h2 id="name-references">
<a href="#section-16" class="section-number selfRef">16. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-16.1">
        <h3 id="name-normative-references">
<a href="#section-16.1" class="section-number selfRef">16.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="I-D.draft-ietf-quic-multipath">[I-D.draft-ietf-quic-multipath]</dt>
        <dd>
<span class="refAuthor">Liu, Y.</span>, <span class="refAuthor">Ma, Y.</span>, <span class="refAuthor">Coninck, Q. D.</span>, <span class="refAuthor">Bonaventure, O.</span>, <span class="refAuthor">Huitema, C.</span>, and <span class="refAuthor">M. Kuehlewind</span>, <span class="refTitle">"Multipath Extension for QUIC"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-quic-multipath-01</span>, <time datetime="2022-03-07" class="refDate">7 March 2022</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-01">https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-01</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.draft-krose-multicast-security">[I-D.draft-krose-multicast-security]</dt>
        <dd>
<span class="refAuthor">Rose, K.</span> and <span class="refAuthor">J. Holland</span>, <span class="refTitle">"Security and Privacy Considerations for Multicast Transports"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-krose-multicast-security-02</span>, <time datetime="2022-01-31" class="refDate">31 January 2022</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-krose-multicast-security-02">https://datatracker.ietf.org/doc/html/draft-krose-multicast-security-02</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9000">[RFC9000]</dt>
        <dd>
<span class="refAuthor">Iyengar, J., Ed.</span> and <span class="refAuthor">M. Thomson, Ed.</span>, <span class="refTitle">"QUIC: A UDP-Based Multiplexed and Secure Transport"</span>, <span class="seriesInfo">RFC 9000</span>, <span class="seriesInfo">DOI 10.17487/RFC9000</span>, <time datetime="2021-05" class="refDate">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9000">https://www.rfc-editor.org/rfc/rfc9000</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9001">[RFC9001]</dt>
        <dd>
<span class="refAuthor">Thomson, M., Ed.</span> and <span class="refAuthor">S. Turner, Ed.</span>, <span class="refTitle">"Using TLS to Secure QUIC"</span>, <span class="seriesInfo">RFC 9001</span>, <span class="seriesInfo">DOI 10.17487/RFC9001</span>, <time datetime="2021-05" class="refDate">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9001">https://www.rfc-editor.org/rfc/rfc9001</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9221">[RFC9221]</dt>
      <dd>
<span class="refAuthor">Pauly, T.</span>, <span class="refAuthor">Kinnear, E.</span>, and <span class="refAuthor">D. Schinazi</span>, <span class="refTitle">"An Unreliable Datagram Extension to QUIC"</span>, <span class="seriesInfo">RFC 9221</span>, <span class="seriesInfo">DOI 10.17487/RFC9221</span>, <time datetime="2022-03" class="refDate">March 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9221">https://www.rfc-editor.org/rfc/rfc9221</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-16.2">
        <h3 id="name-informative-references">
<a href="#section-16.2" class="section-number selfRef">16.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC4607">[RFC4607]</dt>
      <dd>
<span class="refAuthor">Holbrook, H.</span> and <span class="refAuthor">B. Cain</span>, <span class="refTitle">"Source-Specific Multicast for IP"</span>, <span class="seriesInfo">RFC 4607</span>, <span class="seriesInfo">DOI 10.17487/RFC4607</span>, <time datetime="2006-08" class="refDate">August 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc4607">https://www.rfc-editor.org/rfc/rfc4607</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="acknowledgments">
<section id="appendix-A">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="appendix-A-1">TODO acknowledge.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jake Holland</span></div>
<div dir="auto" class="left"><span class="org">Akamai Technologies, Inc.</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:jakeholland.net@gmail.com" class="email">jakeholland.net@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Lucas Pardue</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:lucaspardue.24.7@gmail.com" class="email">lucaspardue.24.7@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Max Franke</span></div>
<div dir="auto" class="left"><span class="org">TU Berlin</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mfranke@inet.tu-berlin.de" class="email">mfranke@inet.tu-berlin.de</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
